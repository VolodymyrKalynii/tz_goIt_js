<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>js task 2</title>
    <meta charset="utf-8"/>
</head>
<body>
<h1>task2</h1>
<a href="./index.html">task1</a>
<a href="./task3.html">task3</a>


<div id="controls">
    <input
            type="number"
            id="input"
            min="0"
            max="100"
            step="1"
            class="js-input"/>
    <button type="button" id="js-create" data-action="create">Создать</button>

    <button type="button" id="js-destroy" data-action="destroy">
        Очистить
    </button>
</div>
<div id="js-boxes"></div>
<script>
    const input = document.querySelector("#input");
    const createButton = document.querySelector("#js-create");
    const destroyButton = document.querySelector("#js-destroy");
    const boxes = document.querySelector("#js-boxes");

    const startSize = 30;
    const stepSize = 10;
    let index = 0;

    const addHandler = () => {
        const amount = +input.value > 0 ? +input.value : 0;
        createBoxes(amount);
    };

    const createBoxes = (amount) => {
        for (let i = 0; i < amount; i++) {
            createBox();
        }
    };

    const createBox = () => {
        const div = document.createElement("DIV");

        div.style.width = index * stepSize + startSize + "px";
        div.style.height = index * stepSize + startSize + "px";

        div.style.backgroundColor =
            "#" + (Math.random().toString(16) + "000000").substring(2, 8).toUpperCase();

        boxes.append(div);
        index++;
    };

    createButton.addEventListener("click", addHandler);

    const clearHandler = () => {
        boxes.innerHTML = "";
        index = 0;
    };

    destroyButton.addEventListener("click", clearHandler);

</script>
</body>
</html>
